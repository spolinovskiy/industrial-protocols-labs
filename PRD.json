{
  "project": "industrial-protocols-labs",
  "updated_at": "2026-01-14T11:25:00Z",
  "tasks": [
    {
      "id": "T001",
      "title": "Bootstrap PRD tracking artifacts",
      "priority": 1,
      "dependencies": [],
      "passes": true,
      "status": "done",
      "description": "Create PRD.json and progress.txt to enforce Ralph methodology tracking.",
      "validation": "PRD.json and progress.txt exist in repo root.",
      "scripts": [],
      "updated_at": "2026-01-09T12:56:11Z"
    },
    {
      "id": "T002",
      "title": "Stabilize CIP WebAPI gateway and tag mirroring",
      "priority": 2,
      "dependencies": [
        "T001"
      ],
      "passes": true,
      "status": "done",
      "description": "Ensure CIP gateway serves /tags reliably and mirrors DO/DI, AO/AI, timer, counters, and reset behavior against cpppo server.",
      "validation": "CIP /tags returns tag list; FUXA CIP view updates; reset and counters behave as specified.",
      "scripts": [
        "scripts/test_all.sh"
      ],
      "updated_at": "2026-01-09T13:37:25Z"
    },
    {
      "id": "T003",
      "title": "Diagnostics: capture gateway traffic for CIP",
      "priority": 3,
      "dependencies": [
        "T002"
      ],
      "passes": true,
      "status": "done",
      "description": "Update diagnostics capture logic so CIP captures include WebAPI gateway traffic on port 9000 alongside CIP port 44818.",
      "validation": "Capture menu produces pcap containing CIP and WebAPI traffic when gateway is active.",
      "scripts": [
        "platform/diagnostics/menu.sh",
        "platform/diagnostics/capture/cip.sh"
      ],
      "updated_at": "2026-01-09T13:58:23Z"
    },
    {
      "id": "T004",
      "title": "Implement MQTT protocol lab with direct FUXA connection",
      "priority": 4,
      "dependencies": [
        "T003"
      ],
      "passes": true,
      "status": "done",
      "description": "Set up MQTT broker/device bridge and FUXA MQTT client tags for canonical IO with timer/counter/reset logic.",
      "validation": "FUXA MQTT view updates and mirrors IO; diagnostics can capture MQTT traffic.",
      "scripts": [
        "scripts/fuxa_add_mqtt_view.py"
      ],
      "updated_at": "2026-01-09T15:08:57Z"
    },
    {
      "id": "T005",
      "title": "Fix MQTT connection status and IO updates in FUXA",
      "priority": 5,
      "dependencies": [
        "T004"
      ],
      "passes": true,
      "status": "done",
      "description": "Ensure FUXA MQTT device connects cleanly and the MQTT bridge publishes expected IO for the Test Bench.",
      "validation": "MQTT connection status is green and DO/AO changes update DI/AI/TMR/CNT on MQTT Test Bench.",
      "scripts": [
        "platform/docker-compose.platform.yml"
      ],
      "updated_at": "2026-01-09T20:56:11Z"
    },
    {
      "id": "T006",
      "title": "Remove duplicate CIP Test Bench view",
      "priority": 6,
      "dependencies": [
        "T005"
      ],
      "passes": true,
      "status": "done",
      "description": "Delete extra CIP Test Bench view so only one CIP view remains in FUXA.",
      "validation": "FUXA Views list shows a single CIP Test Bench entry.",
      "scripts": [
        "scripts/fuxa_dedupe_cip_view.py"
      ],
      "updated_at": "2026-01-09T21:11:21Z"
    },
    {
      "id": "T007",
      "title": "Harden labctl when no proto-server containers exist",
      "priority": 7,
      "dependencies": [
        "T006"
      ],
      "passes": true,
      "status": "done",
      "description": "Prevent labctl from failing when no proto-server containers are running.",
      "validation": "labctl switch works cleanly with zero proto-server containers.",
      "scripts": [
        "labctl"
      ],
      "updated_at": "2026-01-09T21:16:20Z"
    },
    {
      "id": "T008",
      "title": "Implement DNP3 WebAPI gateway (CIP-style)",
      "priority": 8,
      "dependencies": [
        "T007"
      ],
      "passes": true,
      "status": "done",
      "description": "Expose DNP3 points via a WebAPI gateway so FUXA uses WebAPI instead of the native DNP3 driver.",
      "validation": "Gateway /tags returns canonical IO and FUXA DNP3 view updates via WebAPI connection.",
      "scripts": [
        "scripts/fuxa_add_dnp3_view.py"
      ],
      "updated_at": "2026-01-10T05:50:25Z"
    },
    {
      "id": "T009",
      "title": "Fix DNP3 gateway build dependencies",
      "priority": 9,
      "dependencies": [
        "T008"
      ],
      "passes": true,
      "status": "done",
      "description": "Ensure the DNP3 WebAPI gateway image builds successfully by making pydnp3 optional with a build arg.",
      "validation": "Default docker build for protocols/dnp3/gateway succeeds without pydnp3; optional pydnp3 build can be enabled via WITH_PYDNP3=1.",
      "scripts": [],
      "updated_at": "2026-01-10T06:41:42Z"
    },
    {
      "id": "T010",
      "title": "Keep DNP3 gateway logic self-contained (defer outstation)",
      "priority": 10,
      "dependencies": [
        "T009"
      ],
      "passes": true,
      "status": "done",
      "description": "Revert DNP3 to a WebAPI gateway that simulates IO internally, deferring the outstation-backed implementation to a later task.",
      "validation": "FUXA DNP3 view updates via the WebAPI gateway with DO/DI mirror, AO/AI mirror, timer, counters, and reset.",
      "scripts": [],
      "updated_at": "2026-01-10T15:09:44Z"
    },
    {
      "id": "T011",
      "title": "Implement IEC-104 WebAPI gateway lab",
      "priority": 11,
      "dependencies": [
        "T010"
      ],
      "passes": true,
      "status": "done",
      "description": "Expose IEC-104 points via a WebAPI gateway with internal IO logic so FUXA can bind using WebAPI. Include the IEC-104 server container for packet capture and future full-stack testing.",
      "validation": "FUXA IEC-104 view updates via WebAPI gateway with DO/DI mirror, AO/AI mirror, timer, counters, and reset; diagnostics can capture IEC-104 traffic when server is enabled.",
      "scripts": [
        "scripts/fuxa_add_iec104_view.py"
      ],
      "updated_at": "2026-01-10T15:23:45Z"
    },
    {
      "id": "T012",
      "title": "Normalize FUXA Test Bench styling and AI bar naming",
      "priority": 12,
      "dependencies": [
        "T011"
      ],
      "passes": true,
      "status": "done",
      "description": "Update all Test Bench views so led_1..led_4, output_1..output_3, and shape_24 use stroke/text color #1f8ed3ff, and rename the AI bar currently named reset.",
      "validation": "All Test Bench views show updated colors for specified items and the AI bar is renamed from reset to ai_bar.",
      "scripts": [
        "scripts/fuxa_update_view_styles.py"
      ],
      "updated_at": "2026-01-10T21:12:30Z"
    },
    {
      "id": "T013",
      "title": "Guest-only Modbus access with locked FUXA views",
      "priority": 13,
      "dependencies": [
        "T012"
      ],
      "passes": true,
      "status": "done",
      "description": "Expose a guest-only FUXA instance containing only the Modbus Test Bench, routed by Nginx so guests cannot access editor/lab or switch views. Admin access remains unchanged.",
      "validation": "Guest URL shows only Modbus Test Bench with no view switching; /editor and /lab are blocked for guest; admin still sees all protocol views.",
      "scripts": [
        "scripts/fuxa_make_guest_db.py",
        "scripts/fuxa_make_guest_db.sh"
      ],
      "updated_at": "2026-01-11T06:59:10Z"
    },
    {
      "id": "T014",
      "title": "Remove advanced CLI access from diagnostics menu",
      "priority": 14,
      "dependencies": [
        "T013"
      ],
      "passes": true,
      "status": "done",
      "description": "Remove the advanced shell option from the diagnostics menu and keep ttyd limited to the capture workflow.",
      "validation": "Diagnostics menu has no advanced shell option and users cannot access a shell from ttyd.",
      "scripts": [
        "platform/diagnostics/menu.sh"
      ],
      "updated_at": "2026-01-11T07:15:20Z"
    },
    {
      "id": "T015",
      "title": "Document HTTPS/TLS hardening guidance",
      "priority": 15,
      "dependencies": [
        "T014"
      ],
      "passes": true,
      "status": "done",
      "description": "Document where TLS termination should live (nginx or external proxy) and recommended HTTPS deployment for guest/admin/diagnostics endpoints.",
      "validation": "README or docs section explains HTTPS/TLS setup with clear deployment guidance.",
      "scripts": [],
      "updated_at": "2026-01-11T10:02:30Z"
    },
    {
      "id": "T016",
      "title": "Deployment readiness analysis and scaling guidance",
      "priority": 16,
      "dependencies": [
        "T015"
      ],
      "passes": true,
      "status": "done",
      "description": "Produce a deployment readiness report covering VM sizing, multi-user behavior, lab switchover flow, and backend orchestration expectations for the frontend integration.",
      "validation": "docs/deployment_evaluation.md exists with recommendations and integration steps.",
      "scripts": [],
      "updated_at": "2026-01-11T13:55:00Z"
    },
    {
      "id": "T017",
      "title": "Prototype lab switchover UI and control endpoints",
      "priority": 17,
      "dependencies": [
        "T016"
      ],
      "passes": true,
      "status": "done",
      "description": "Create a simple HTML page to test lab switching and a minimal control script to start/stop protocol containers and toggle FUXA connections.",
      "validation": "HTML page loads and triggers lab switches on the host; control script updates active protocol and enables/disables FUXA connections.",
      "scripts": [
        "scripts/lab_switcher_server.py"
      ],
      "updated_at": "2026-01-11T14:08:30Z"
    },
    {
      "id": "T018",
      "title": "Rename admin account to proto-researcher",
      "priority": 18,
      "dependencies": [
        "T017"
      ],
      "passes": true,
      "status": "done",
      "description": "Rename the admin account to proto-researcher across gateway auth, diagnostics ttyd login, and documentation.",
      "validation": "Admin login uses proto-researcher everywhere and previous admin credentials no longer apply.",
      "scripts": [],
      "updated_at": "2026-01-11T14:40:00Z"
    },
    {
      "id": "T019",
      "title": "Harden guest navigation to Modbus-only view",
      "priority": 19,
      "dependencies": [
        "T018"
      ],
      "passes": true,
      "status": "done",
      "description": "Prevent guest users from accessing lab/home/configurator navigation and restrict guest to Modbus view only.",
      "validation": "Guest access cannot open lab/home/configurator or editor routes; only Modbus Test Bench is reachable.",
      "scripts": [],
      "updated_at": "2026-01-11T15:25:00Z"
    },
    {
      "id": "T020",
      "title": "Document lab switcher usage and integration notes",
      "priority": 20,
      "dependencies": [
        "T019"
      ],
      "passes": true,
      "status": "done",
      "description": "Add comprehensive guidance for using platform/lab_switcher/index.html and the control server.",
      "validation": "README (or docs) contains clear steps for running the lab switcher and describing expected behavior.",
      "scripts": [],
      "updated_at": "2026-01-11T15:35:00Z"
    },
    {
      "id": "T021",
      "title": "Switchover performance and resource report",
      "priority": 21,
      "dependencies": [
        "T020"
      ],
      "passes": true,
      "status": "done",
      "description": "Measure lab switchover timing, startup from zero, and resource peaks. Provide optimization options and compose vs Kubernetes evaluation.",
      "validation": "docs/switchover_performance.md includes timings, CPU/RAM peaks, restart behavior, and optimization recommendations.",
      "scripts": [],
      "updated_at": "2026-01-11T16:05:00Z"
    },
    {
      "id": "T022",
      "title": "Create blog content folder and initial article",
      "priority": 22,
      "dependencies": [
        "T021"
      ],
      "passes": true,
      "status": "done",
      "description": "Add a blog content folder and seed it with the Industrial Protocols Overview article in markdown.",
      "validation": "docs/blog/01-industrial-protocols-overview.md exists and contains the provided article text.",
      "scripts": [],
      "updated_at": "2026-01-11T15:55:00Z"
    },
    {
      "id": "T023",
      "title": "Add OT version control blog article",
      "priority": 23,
      "dependencies": [
        "T022"
      ],
      "passes": true,
      "status": "done",
      "description": "Add the Version Control Comes to the Plant Floor article to the blog content folder.",
      "validation": "docs/blog/02-version-control-plant-floor.md exists and contains the provided article text.",
      "scripts": [],
      "updated_at": "2026-01-11T16:12:00Z"
    },
    {
      "id": "T024",
      "title": "Replit integration roadmap and merge prompt",
      "priority": 24,
      "dependencies": [
        "T023"
      ],
      "passes": true,
      "status": "done",
      "description": "Produce a step-by-step roadmap to merge the Replit frontend project with this backend, plus a structured prompt for the Replit agent covering hardening, QC tests, multi-user scenarios, and recovery.",
      "validation": "docs/replit_integration_roadmap.md exists with roadmap, QA checklist, multi-user scenarios, recovery plan, and expansion-ready site structure.",
      "scripts": [],
      "updated_at": "2026-01-11T16:40:00Z"
    },
    {
      "id": "T025",
      "title": "Integrate Replit frontend into repo layout",
      "priority": 25,
      "dependencies": [
        "T024"
      ],
      "passes": true,
      "status": "done",
      "description": "Place the Replit frontend project into the repo under a canonical path (frontend/) and align README/docs to the new fullstack layout.",
      "validation": "frontend/ exists in repo with the Replit code and README reflects the unified layout.",
      "scripts": [],
      "updated_at": "2026-01-12T18:27:49Z"
    },
    {
      "id": "T026",
      "title": "Add frontend-backend realtime channel",
      "priority": 26,
      "dependencies": [
        "T025"
      ],
      "passes": true,
      "status": "done",
      "description": "Add a websocket (or SSE) channel so the frontend can receive lab status updates without polling.",
      "validation": "Frontend receives live lab status updates when switching protocols.",
      "scripts": [
        "scripts/lab_switcher_server.py"
      ],
      "updated_at": "2026-01-12T18:49:59Z"
    },
    {
      "id": "T027",
      "title": "Update frontend integration prompt and next steps",
      "priority": 27,
      "dependencies": [
        "T026"
      ],
      "passes": true,
      "status": "done",
      "description": "Merge frontend prompt guidance into docs and PRD, including websocket usage and DevOps labs links to FUXA.",
      "validation": "docs/replit_integration_roadmap.md updated with websocket integration and next-step checklist.",
      "scripts": [],
      "updated_at": "2026-01-12T18:54:37Z"
    },
    {
      "id": "T028",
      "title": "Fix frontend lab switcher integration and UX",
      "priority": 28,
      "dependencies": [
        "T027"
      ],
      "passes": true,
      "status": "done",
      "description": "Align frontend environment variables with the lab switcher API, add a lab start action on protocol pages, and expose a live status stream for the UI.",
      "validation": "Frontend can start a lab via /api/lab/switch, shows live active protocol updates, and opens the correct guest/admin FUXA links.",
      "scripts": [],
      "updated_at": "2026-01-12T19:43:26Z"
    },
    {
      "id": "T029",
      "title": "Add frontend container + nginx reverse proxy for unified site",
      "priority": 29,
      "dependencies": [
        "T028"
      ],
      "passes": true,
      "status": "done",
      "description": "Containerize the frontend production build and add an nginx reverse proxy service that exposes the full site alongside guest/admin/diagnostics paths.",
      "validation": "docker compose brings up frontend + web proxy, site loads on a single port, and guest/admin/diag paths proxy correctly.",
      "scripts": [],
      "updated_at": "2026-01-13T16:38:21Z"
    },
    {
      "id": "T030",
      "title": "Allow frontend container to run without Postgres",
      "priority": 30,
      "dependencies": [
        "T029"
      ],
      "passes": true,
      "status": "done",
      "description": "Make Replit auth optional so the frontend can run without DATABASE_URL/REPL_ID by falling back to a guest-only mode.",
      "validation": "Frontend container starts without DATABASE_URL, and /api/protocols returns data with guest-only access enforced.",
      "scripts": [],
      "updated_at": "2026-01-13T17:27:52Z"
    },
    {
      "id": "T031",
      "title": "Fix lab-switcher volume mount in compose",
      "priority": 31,
      "dependencies": [
        "T030"
      ],
      "passes": true,
      "status": "done",
      "description": "Mount the repository root into the lab-switcher container so scripts/lab_switcher_server.py is available.",
      "validation": "lab-switcher container stays up and serves /api/status without restart loops.",
      "scripts": [],
      "updated_at": "2026-01-13T17:34:39Z"
    },
    {
      "id": "T032",
      "title": "Enable nginx DNS re-resolve for backend containers",
      "priority": 32,
      "dependencies": [
        "T031"
      ],
      "passes": true,
      "status": "done",
      "description": "Update nginx reverse proxy to re-resolve frontend/gateway container DNS so upstream IP changes after rebuild do not cause 502s.",
      "validation": "After rebuilding frontend, web proxy continues serving /api/protocols without 502 errors.",
      "scripts": [],
      "updated_at": "2026-01-13T17:55:22Z"
    },
    {
      "id": "T033",
      "title": "Simplify local auth and guest access for Modbus",
      "priority": 33,
      "dependencies": [
        "T032"
      ],
      "passes": true,
      "status": "done",
      "description": "Add a local auth mode for frontend login, remove guest basic auth for FUXA, and ensure Modbus lab start works for guests.",
      "validation": "Guest can start Modbus lab without login, guest FUXA opens without credentials, and local auth mode allows signed-in access to all labs.",
      "scripts": [],
      "updated_at": "2026-01-13T19:15:22Z"
    },
    {
      "id": "T034",
      "title": "Normalize FUXA guest/admin HMI paths",
      "priority": 34,
      "dependencies": [
        "T033"
      ],
      "passes": true,
      "status": "done",
      "description": "Redirect protocol-specific HMI paths (e.g., /modbus) to /lab and update frontend links to open /lab directly.",
      "validation": "/guest/modbus and /admin/modbus redirect to /lab and Open FUXA Interface uses /lab.",
      "scripts": [],
      "updated_at": "2026-01-13T19:26:05Z"
    },
    {
      "id": "T035",
      "title": "Redirect protocol slugs on web proxy guest/admin routes",
      "priority": 35,
      "dependencies": [
        "T034"
      ],
      "passes": true,
      "status": "done",
      "description": "Ensure /guest/<protocol> and /admin/<protocol> redirect to /guest/lab and /admin/lab on the web proxy.",
      "validation": "/guest/modbus and /admin/modbus return 302 to /guest/lab or /admin/lab.",
      "scripts": [],
      "updated_at": "2026-01-13T20:13:58Z"
    },
    {
      "id": "T036",
      "title": "Increase lab switch timeout to avoid aborted fetch",
      "priority": 36,
      "dependencies": [
        "T035"
      ],
      "passes": true,
      "status": "done",
      "description": "Allow longer backend switch operations by extending the frontend lab switch timeout.",
      "validation": "Lab start no longer fails with 'operation was aborted' during slow container start.",
      "scripts": [],
      "updated_at": "2026-01-14T09:25:00Z"
    }
    ,
    {
      "id": "T037",
      "title": "Update branding logo and site name",
      "priority": 37,
      "dependencies": [
        "T036"
      ],
      "passes": true,
      "status": "done",
      "description": "Replace the Replit orange logo with the provided icon and rename \"IACS Behavior Analisys Platform\" to \"IACS DevOps Labs and Experiments\" across the frontend.",
      "validation": "Updated logo appears on the frontend and all instances of the old name are replaced with the new name.",
      "scripts": [],
      "updated_at": "2026-01-14T09:55:00Z"
    }
    ,
    {
      "id": "T038",
      "title": "Reconcile OPC UA/DNP3 server logic and missing helper script",
      "priority": 38,
      "dependencies": [
        "T037"
      ],
      "passes": true,
      "status": "done",
      "description": "Review and commit the untracked OPC UA/DNP3 server logic updates and add the missing OPC UA view helper script if appropriate.",
      "validation": "protocols/opcua/server/opcua_server.py and protocols/dnp3/server/dnp3_server.py align with canonical reset/counter logic, and scripts/fuxa_add_opcua_view.py is tracked or removed deliberately.",
      "scripts": [],
      "updated_at": "2026-01-14T10:30:00Z"
    }
    ,
    {
      "id": "T039",
      "title": "Publish protocol blog articles in site blog section",
      "priority": 39,
      "dependencies": [
        "T038"
      ],
      "passes": true,
      "status": "done",
      "description": "Add the industrial protocol blog articles to the frontend blog section in the same style as existing posts.",
      "validation": "Blog list shows both protocol articles and the detail pages render the markdown content.",
      "scripts": [],
      "updated_at": "2026-01-14T11:05:00Z"
    },
    {
      "id": "T040",
      "title": "Review frontend dependencies and container optimization options",
      "priority": 40,
      "dependencies": [
        "T039"
      ],
      "passes": true,
      "status": "done",
      "description": "Audit frontend dependencies, explain why they are needed, and document container size/performance optimizations without breaking functionality.",
      "validation": "Docs or README include dependency rationale and optimization recommendations.",
      "scripts": [],
      "updated_at": "2026-01-14T11:25:00Z"
    }
  ]
}
